<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<title>BEFREE GYM | Reportes</title>
	<h:outputStylesheet library="css" name="styles3r.css" />
        <h:outputStylesheet library="css" name="bootstrap.min.css" />
        
        <h:outputScript library="js" name="jquery-3.4.1.min.js" />
        <h:outputScript library="js" name="bootstrap.min.js" />
        <h:outputScript library="js" name="popper.min.js" />
        
        <link rel="icon" href="#{resource['/img/Inicio/sicvos.png']}" />
    </h:head>
    <h:body>
        <h:form>
            <div class="caja">
                <div class="barraprin">
                    <div class="logo"></div>
                    <div class="logo1">
                        <h:graphicImage value="#{resource['/img/Inicio/PRIN1.jpg']}" class="img-fluid" title="Logo empresa" alt="Responsive image" />
                    </div>
                    <div class="logo"></div>
                </div>
                <div class="cajabar">
                    <div class="cajabar1">
                        <nav class="navbar-center">
                            <div class="navega">
                                <ul>
                                    <li><a class=""><h:commandButton value="Inicio" action="#{user.navU.ahome()}" class="btn btn-sm btn-block" /></a></li>
                                    <li><a class=""><h:commandButton value="¿Quiénes somos?" action="#{user.navU.aabout()}" class="btn btn-sm btn-block" /></a></li>
                                    <li><a class="inici"><h:commandButton value="Reportes" action="#{user.report.reports()}" class="btn btn-sm btn-block text-white" /></a></li>
                                    <li><a class=""><h:commandButton value="Ventas" action="#{sale.buy.sales()}" class="btn btn-sm btn-block" /></a></li>
                                    <li><a class=""><h:commandButton value="Inventarios" action="#{inventory.stock.inventory()}" class="btn btn-sm btn-block" /></a></li>
                                </ul>
                            </div>
                        </nav>
                    </div>
                    <div class="cajabar1 sticky-top">
                        <div class="pos-f-t">
                            <div class="collapse" id="navbarToggleExternalContent">
                                <div class="p-3" style="background: #2A2627;">
                                    <h3 class="text-white h5">Perfil de: <h:commandLink value="#{user.user.getpNombre()} #{user.user.getpApellido()}" action="#{user.user.profile()}" /></h3>
                                    <h:commandButton value="Cerrar sesión" action="#{user.navU.login()}" class="btn btn-danger" />
                                </div>
                            </div>
                            <nav class="navbar navbar-dark">
                                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
                                    <span class="navbar-toggler-icon" />
                                </button>
                                <h:commandButton value="English" action="#{user.navU.homeen()}" class="btn btn-sm text-white" />
                            </nav>
                        </div>
                    </div>
                </div>
                <div class="espac0" />
                <div class="cajaconte">
                    <div class="cajaconte1">
                        <div class="cajaconte1-1">
                            <div class="cajaconte1-1-1">
                                <div class="cajaconte1-1-1-1">
                                    <h:graphicImage value="#{resource['/img/Iconos/Servicios/pos.png']}" alt="" />
                                </div>
                                <div class="espac2" />
                                <div class="cajaconte1-1-1-2">
                                    <ul><li><ul><li>
                                        <a class="rut"><h:commandButton value="R. Ventas" action="#{user.report.reports()}" class="btn btn-sm btn-block text-white" /></a>
                                    </li></ul></li></ul>
                                </div>
                            </div>
                            <div class="espac1" />
                            <div class="cajaconte1-1-1">
                                <div class="cajaconte1-1-1-1">
                                    <h:graphicImage value="#{resource['/img/Iconos/Servicios/files.png']}" alt="" />
                                </div>
                                <div class="espac2" />
                                <div class="cajaconte1-1-1-2">
                                    <ul><li><ul><li>
                                        <a class="valo"><h:commandButton value="R. PQRS" action="#{service.pqrs.rpqrs()}" class="btn btn-sm btn-block text-white" /></a>
                                    </li></ul></li></ul>
                                </div>
                            </div>
                            <div class="espac1" />
                            <div class="cajaconte1-1-1">
                                <div class="cajaconte1-1-1-1">
                                    <h:graphicImage value="#{resource['/img/Iconos/Servicios/diary.png']}" alt="" />
                                </div>
                                <div class="espac2" />
                                <div class="cajaconte1-1-1-2">
                                    <ul><li><ul><li>
                                        <a class="mens"><h:commandButton value="R. Maquinaria" action="#{inventory.machi.rmaq()}" class="btn btn-sm btn-block text-white" /></a>
                                    </li></ul></li></ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="cajaconte2">
                        <div class="cajaconte2-1">
                            <h1>Reporte de membresías:</h1>
                        </div>
                        <div class="cajaconter2-2">
                            <div class="cajaconter2-2-1">
                                <p:dataTable class="table" styleClass="table table-hover" style="table" id="dtMembresia" var="m" value="#{user.report.getrMembresia()}" rows="6" >   
                                    <p:column class="text-white bg-danger" headerText="Planes">
                                        <p:outputLabel value="#{m.tipoPlan}" />
                                    </p:column>
                                    <p:column headerText="Cantidad">
                                        <p:outputLabel value="#{m.cantidad}" />
                                    </p:column>
                                </p:dataTable>
                            </div>
                        </div>    
                        <div class="cajaconte2-1">
                            <h1>Reporte de ventas y productos vendidos:</h1>
                        </div>
                        <div class="cajaconter2-3">
                            <div class="cajaconter2-3-1">
                                <p:dataTable class="table" styleClass="table table-hover" style="table" id="dtProductos" var="p" value="#{user.report.rProductos}" paginator="true" rows="5" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                                             currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords}" pageLinks="5" >
                                    <p:column class="text-white bg-danger" headerText="Nombre">
                                        <p:outputLabel value="#{p.nombre}" />
                                    </p:column>
                                    <p:column headerText="Cantidad" width="20%">
                                        <p:outputLabel value="#{p.catidadVendida}" />
                                    </p:column>
                                    <p:column headerText="Valor de compra" width="20%">
                                        <p:outputLabel value="#{p.valorCompra}" />
                                    </p:column>
                                    <p:column headerText="Valor de venta" width="20%">
                                        <p:outputLabel value="#{p.valorVenta}" />
                                    </p:column>
                                </p:dataTable>
                            </div>
                            <div class="cajaconter2-3-1">
                                <p:dataTable class="table" styleClass="table table-hover" style="table" id="dtVentas" var="v" value="#{user.report.listV}" paginator="true" rows="10" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                                             currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords}" pageLinks="5" >
                                    <p:column class="text-white bg-danger" headerText="No. Factura">
                                        <p:outputLabel value="#{v.numeroFactura}" />
                                    </p:column>
                                    <p:column headerText="Valor">
                                        <p:outputLabel value="#{v.valor}" />
                                    </p:column>
                                    <p:column headerText="Tipo de pago" filterBy="#{v.tipoPago}" filterMatchMode="contains">
                                        <p:outputLabel value="#{v.tipoPago}" />
                                    </p:column>
                                </p:dataTable>
                            </div>
                            <div class="iconopdf">
                                <button type="button" class="btn btn-danger btn-lg btn-block" data-toggle="modal" data-target="#staticBackdrop">
                                    <h:graphicImage value="#{resource['/img/reportes/pdf.png']}" />
                                    <h:commandLink value=" Descargar reporte en PDF">
                                        <p:dataExporter type="pdf" target="dtVentas" fileName="Ventas - BeFree Gym"/>
                                    </h:commandLink>
                                </button>
                            </div>
                            <div class="iconopdf1">
                                <button type="button" class="btn btn-danger btn-lg btn-block" data-toggle="modal" data-target="#staticBackdrop">
                                    <h:graphicImage value="#{resource['/img/reportes/excel.png']}" />
                                    <h:commandLink value=" Descargar reporte en Excel">
                                        <p:dataExporter type="xls" target="dtVentas" fileName="Ventas - BeFree Gym"/>
                                    </h:commandLink>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="cajafin4">
                        <div class="cajafin4-1">
                            <h:graphicImage value="#{resource['/img/Inicio/sicvos w.png']}" title="Logo sistema" alt="Responsive image" />
                        </div>
                        <div class="cajafin4-2">
                            <h6>| David Leonardo Salcedo Sierra</h6>
                            <h6>| Nixon Giovanny Pardo Téllez</h6>
                            <h6>| Luis Alfredo Sarmiento Brango</h6>
                            <h6>| SENA CSF, 1906818, GAES 3</h6>
                            <h6>| © Copyright 2019, Bogotá DC, Colombia</h6>
                        </div>
                        <div class="cajafin4-3">
                            <h:graphicImage value="#{resource['/img/Inicio/sena.png']}" title="Logo sena" alt="Responsive image" />
                        </div>
                    </div>
                </div>
            </div>
        </h:form>
    </h:body>
</html>